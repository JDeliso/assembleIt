<script>

$('#upvote_<%=id%>').click(function () {

    if (!$("#upvote_<%=id%>").hasClass('on')){
      if ($('#downvote_<%=id%>').hasClass('on')){
        $('#downvote_<%=id%>').toggleClass("on");
        $("#upvote_<%=id%>").toggleClass("on");

        $.ajax({
        url: "/posts/<%= id%>/up"
        })
        .done((data) => {
        $("#votes_<%=id%>").text(data.votes);
        })


        $.ajax({
        url: "/posts/<%= id%>/up"
        })
        .done((data) => {
        $("#votes_<%=id%>").text(data.votes);
      })
      } else {
          $("#upvote_<%=id%>").toggleClass('on');
          $.ajax({
          url: "/posts/<%= id%>/up"
          })
          .done((data) => {
          $("#votes_<%=id%>").text(data.votes);
          })
        }
    }
    else {
      $("#upvote_<%=id%>").toggleClass('on');

      $.ajax({
      url: "/posts/<%= id%>/down"
      })
      .done((data) => {
      $("#votes_<%=id%>").text(data.votes);
    })
    }
  })

  $('#downvote_<%=id%>').click(function () {

    if (!$('#downvote_<%=id%>').hasClass('on')){
      if ($("#upvote_<%=id%>").hasClass('on')){
        $("#upvote_<%=id%>").toggleClass("on");
        $('#downvote_<%=id%>').toggleClass("on");

        $.ajax({
        url: "/posts/<%= id%>/down"
        })
        .done((data) => {
        $("#votes_<%=id%>").text(data.votes);
        })

        $.ajax({
        url: "/posts/<%= id%>/down"
        })
        .done((data) => {
        $("#votes_<%=id%>").text(data.votes);

    })
      } else {
          $('#downvote_<%=id%>').toggleClass('on');

          $.ajax({
          url: "/posts/<%= id%>/down"
          })
          .done((data) => {
          $("#votes_<%=id%>").text(data.votes);
    })
        }
      
    } else {
      $('#downvote_<%=id%>').toggleClass('on');

      $.ajax({
      url: "/posts/<%= id%>/up"
      })
      .done((data) => {
      $("#votes_<%=id%>").text(data.votes);
    })
    }

  })
</script>